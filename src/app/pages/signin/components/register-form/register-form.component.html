<form [formGroup]="form" (submit)="register()">
    <h1>Signin</h1>
    <p>Just some details to get you in!</p>
    <input type="text" formControlName="username" placeholder="Username">
    <form-field-error *ngIf="form.get('username')?.hasError('minlength') && form.get('username')?.dirty">
        <p>
            The minimum length for username is
            {{ form.get('username').getError('minlength').requiredLength }}
            characters
        </p>
    </form-field-error>
    <form-field-error *ngIf="form.get('username')?.hasError('maxlength') && form.get('username')?.dirty">
        <p>
            The maximum length for username is
            {{ form.get('username').getError('maxlength').requiredLength }}
            characters
        </p>
    </form-field-error>
    <form-field-error *ngIf="form.get('username')?.hasError('required') && form.get('username')?.dirty">
        <p>Username is <strong>required</strong></p>
    </form-field-error>
    <form-field-error *ngIf="form.get('username')?.hasError('already_exists')">
        <p>Username already exists</p>
    </form-field-error>

    <input type="password" formControlName="password" placeholder="Password">
    <form-field-error *ngIf="form.get('password')?.hasError('minlength') && form.get('password')?.dirty">
        <p>
            The minimum length for password is
            {{ form.get('password').getError('minlength').requiredLength }}
            characters
        </p>
    </form-field-error>
    <form-field-error *ngIf="form.get('password')?.hasError('maxlength') && form.get('password')?.dirty">
        <p>
            The maximum length for password is
            {{ form.get('password').getError('maxlength').requiredLength }}
            characters
        </p>
    </form-field-error>
    <form-field-error *ngIf="form.get('password')?.hasError('required') && form.get('password')?.dirty">
        <p>password is <strong>required</strong></p>
    </form-field-error>

    <input type="password" formControlName="confirm_password" placeholder="Confirm password">
    <form-field-error *ngIf="form.get('confirm_password')?.hasError('required') && form.get('confirm_password')?.dirty">
        <p>Confirm password is <strong>required</strong></p>
    </form-field-error>
    <form-field-error
        *ngIf="form.get('confirm_password')?.hasError('confirm_password') && form.get('confirm_password')?.dirty">
        <p>Confirm password is not the same with password</p>
    </form-field-error>

    <button type="submit" [disabled]="form.invalid">Register</button>
    <a routerLink="/signin">Already Registered? <strong>Signup</strong></a>
</form>